# node 服务器配置说明:

## 一.基础配置参数位于 .env 文件中

### 1.排队预约相关参数

    1.假设我希望在19:45的时候，让服务器提醒我刷新cookie，
    2.在19:59:55开始自动排队和预约，
    3.并且无论成功与否，都在20:02:30关闭自动排队

- **发送刷新 cookie 提醒的时间** （示例时间为:19:45）

```
NOTINCE_TIME_CRON ="45 19 * * *"
```

- **开启自动预约的时间**（示例时间为:19:59:55）

```
START_TIME_CRON = "55 59 19 * * *"
```

- **关闭自动预约的时间** （示例时间为:20:02:30）

```
KILL_TIME_CRON = "30 2 20 * * *"
```

### 2.服务器参数

以下两个参数在使用 **docker-compose** 构建时，会被**最外层.env** 文件的 **NODE_PORT** 和 **IS_HTTPS** 覆盖

- **服务器端口号**

```
DEFAULT_NODE_PORT = "8899" # 服务器的默认端口号
```

- **是否开启 HTTPS**
  ⭐ 设置为**on**后，将 SSL 证书的**key**和**pem**放置于 ssl 文件夹下，服务器会自动读取

```
DEFAULT_IS_HTTPS = "off" # 可选 "on" | "off"
```

## 二.生成自己的本地接口文档(仅参考)

- 配置 **apidoc.json**

```
{
  "name": "接口文档",
  "title": "我去图书馆接口文档",
  "url": "http://127.0.0.1:8899",
  "sampleUrl": "https://test.api.XXXX.com" # 将此处替换为自己服务器的域名/ip
}
```

- 生成 API 文档

```
npm run doc
```

- 打开 API 文档

```
打开生成的 apidoc 文件夹，浏览器访问 index.html
```
